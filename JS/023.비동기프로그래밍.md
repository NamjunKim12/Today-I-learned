## 📌 비동기 프로그래밍

### 📌 동기 처리와 비동기 처리

- 자바스크립트 엔진은 함수를 호출할 경우 함수를 실행 컨텍스트를 생성하여 이를 `실행 컨텍스트 스택`에 푸시하고 코드를 실행함.
- 실행 컨텍스트 스택은 호출 순서대로 함수의 실행 컨텍스트를 저장함.
- 자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖기 때문에 한 번에 하나의 함수만 실행할 수 있고, 이러한 동작 방식을 `싱글 스레드 방식으로 동작한다`라고 함.
- 싱글 스레드 방식은 한 번에 하나의 태스크만 실행할 수 있기 때문에 태스크가 종료되지 않으면 다음 태스크가 대기해야 함.
- 싱글 스레드 방식에서는 하나의 태스크를 실행하기 위해서, 실행 중인 태스크가 종료될 때까지 대기해야 하므로 `블로킹(작업중단)`이 발생함.
- 이런 싱글 스레드 방식의 동기 처리 방식은 실행 순서가 보장된다는 장점이 있지만, 앞선 태스크가 종료될 때까지 이후 태스크들이 대기해야 한다는 단점이 있음.
- 이러한 단점을 해결하기 위해 태스크가 종료되지 않은 상태라도 다음 태스크를 곧바로 실행하는 `비동기 처리 방식`이 존재함.
- 비동기 처리 방식은 태스크가 종료되지 않은 상태라도 다음 태스크를 곧바로 실행함.
- 비동기 처리 방식으로 동작하는 요소들에는 `setTimeout, setInterval, HTTP, 이벤트 핸들러` 등이 존재하며, 기타 비동기 처리는 `콜백패턴` 또는 `프로미스 패턴`으로 구현할 수 있음.
  

### 📌 이벤트 루프와 태스크 큐

- 자바스크립트는 싱글 스레드로 동작하지만, 브라우저의 동작을 살펴보면 여러 태스크가 동시에 처리되는 것 처럼 느껴짐.
- 이는 브라우저의 내장 기능인 `이벤트 루프`로 멀티 스레드로 동작할 수 있기 때문임.
- 이 이벤트 루프는 `자바스크립트 엔진`과는 다른 개념으로, 자바스크립트 엔진은 `콜스택`과 `힙`을 통해 소스 코드를 평가하고 실행하는 역할만을 전담하고, 비동기 처리를 비롯한 기타 모든 작업은 브라우저가 담당하는 것임.
- 이벤트 루프는 `태스크 큐`와 `이벤트 루프`를 통해 비동기 처리를 구현함.
- `태스크 큐`는 비동기 처리를 위해 setTimeout, setInterval, DOM 이벤트 핸들러와 같은 비동기 처리 함수의 콜백 함수 또는 프로미스의 후속 처리 메서드의 콜백 함수가 일시적으로 보관되는 영역임.
- 이 태스크 큐는 `이벤트 루프`라는 관리자, 감시자 역할의 메커니즘임.
- 이 이벤트 루프는 콜스택과 태스크 큐를 감시하여 콜 스택이 비어있으면, FIFO 순서로 태스크 큐에 보관된 비동기 처리 함수의 콜백 함수를 콜 스택에 밀어넣어 실행함.

